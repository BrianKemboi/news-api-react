(this["webpackJsonpreact-news-api"]=this["webpackJsonpreact-news-api"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s(5),r=s(0),a=s(4),i=s(3),d=s(2),l=s(10),o=s.n(l),u=s(12),j=s(13),b=s.n(j),h="entertainment",p="us",O=Object(n.b)({name:"topHeadlines",initialState:{topHeadlines:[],status:{},loading:!1,hasErrors:!1},reducers:{getHeadlines:function(e){e.loading=!0},getHeadlinesSuccess:function(e,t){var s=t.payload;e.topHeadlines=s.articles,e.loading=!1,e.hasErrors=!1,e.status={status:s.status,totalResults:s.totalResults}},getHeadlinesFailure:function(e,t){var s=t.payload;e.loading=!1,e.hasErrors=!0,e.status=s}}}),x=O.actions,g=x.getHeadlines,v=x.getHeadlinesSuccess,f=x.getHeadlinesFailure,m=O.reducer,H=Object(d.c)({topHeadlines:m}),y=function(e){var t=e.article,s={backgroundImage:"url(".concat(t.urlToImage,")")},n="";return t.content&&(n=t.content.substring(0,190)+"..."),Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("div",{className:"card-image",style:s}),Object(c.jsx)("h1",{children:t.title}),Object(c.jsx)("div",{className:"subtitle",children:t.description}),Object(c.jsx)("p",{children:n}),Object(c.jsx)("div",{class:"card-details",children:Object(c.jsx)("div",{class:"card-details-inner",children:Object(c.jsx)("div",{class:"read-more",children:Object(c.jsx)("a",{class:"button",href:t.url,children:"Read Article"})})})})]})})},w=function(e){return e.topHeadlines},k=function(){var e=Object(i.b)(),t=Object(i.c)(w),s=t.status,n=t.topHeadlines,a=t.loading,d=t.hasErrors;Object(r.useEffect)((function(){e(function(){var e=Object(u.a)(o.a.mark((function e(t){var s,c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g()),s=b()("https://newsapi.org/v2/top-headlines",{queryParams:{country:p,category:h}}),console.log(s),e.prev=4,e.next=7,fetch(s,{headers:{"X-Api-Key":"".concat("70294316d406484989c7756a38d1209f")}});case 7:return c=e.sent,n=c.status,e.next=11,c.json();case 11:r=e.sent,t(200===n?v(r):f(r)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),t(f({status:"error",code:"",message:"Unknown error"}));case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);return Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"Top Headlines"}),a?Object(c.jsx)("p",{children:"Loading ..."}):d?Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Some errors occured"}),Object(c.jsx)("div",{children:s.code}),Object(c.jsx)("div",{children:s.message})]}):n.map((function(e){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"flex-container",children:Object(c.jsx)(y,{article:e})})})}))]})},E=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(k,{})})},N=(s(26),Object(n.a)({reducer:H}));Object(a.render)(Object(c.jsx)(i.a,{store:N,children:Object(c.jsx)(E,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.f43ccdb8.chunk.js.map